


EEPROM	MACRO	SLAVE_ADDR,IO_PORT,SCL,SDA,IIC_FG,RX_BUF,TX_BUF,IIC_TEMP

EEPROM_START:
	SRAM	IO_PORT,SDA
	SRAM	IO_PORT,SCL
	CALL	DELAY_4US
	CRAM	IO_PORT,SDA
	CALL	DELAY_4US
	CRAM	IO_PORT,SCL
	RET
EEPROM_STOP:
	CRAM	IO_PORT,SDA
	SRAM	IO_PORT,SCL
	CALL	DELAY_4US
	SRAM	IO_PORT,SDA
	CALL	DELAY_4US
	RET
EEPROM_SENDACK:
	CRAM	IO_PORT,SDA
	SRAM	IO_PORT,SCL
	CALL	DELAY_4US
	CRAM	IO_PORT,SCL
	RET
EEPROM_GETACK:
	CALL	SDA_IN
	SRAM	IO_PORT,SCL
	CALL	DELAY_4US
	JPB	IO_PORT,SDA,EEPROM_GETNOACK
	CRAM	IO_PORT,SCL
	CALL	SDA_OUT
	MOV	A,@0
	RET
EEPROM_GETNOACK:
	CRAM	IO_PORT,SCL
	CALL	SDA_OUT
	MOV	A,@1
	RET
